## HTTP(HyperText Transfer Protocol)/1.1과 HTTP/2

### HTTP1.1

- 1996년 1.0 버전 업데이트 이후 1999년 1.1 출시 후 15년 동안 업데이트 없이 사용

- 1:1 요청 응답처리

  - > 요청과 응답이 순차적으로 진행

- 동시전송이 불가능

- 단점

  1. HOL (Head Of Line) Blocking - 특정 응답의 지연
  2. RTT (Round Trip Time) 증가
     1. 매 요청 별로 connection을 만들어야 하는데 3-way Handshake가 반복적으로 일어나고 불필요한 RTT증가와 네트워크 지연 발생
  3. 무거운 Header 구조

- 회피?

  - Image Spriting: 하나의 큰 이미지를 만들어서 CSS 좌표 값을 통해 이미지를 뽑아낸다.
  - Minify
  - Data URI Scheme: Base64 인코딩된 이미지를 직접 기술
  - Load Faster: HTML 문서 상위에는 스타일 시트, 하단에는 스크립트 배치

### HTTP/2

> HTTP/1.1에서 HTTP/2로의 가장 큰 변화는 향상된 성능에 초점을 맞추고 있습니다. 다중화, 헤더 압축, 우선순위화, 프로토콜 협상과 같은 주요 기능은 개방 프로토콜인 SPDY에서 진화했으나 이는 비표준 프로토콜이었습니다.
>
> [*(Chromium 블로그)*](https://blog.chromium.org/2015/02/hello-http2-goodbye-spdy.html)

- HTTP의 어플리케이션 의미 체계를 어떤 식으로도 수정하지 않음
- 핵심 개념 (HTTP 메서드, 상태 코드, URI 및 헤더 필드) 그대로 유지
- 클라이언트 - 서버 간의 데이터 서식(프레임)이 지정되는 방식과 데이터 전송 방식을 수정함
- HTTP2 성능 향상
  1. 바이너리 프레이밍 계층: HTTP 메시지가 캡슐화되어 클라이언트-서버 전송되는 방식을 규정함
     1. 바이너리 형식으로 인코딩됨
     2. 프레임: HTTP/2 통신의 최소 단위 (프레임:헤더 1:1)
  2. 스트림, 메시지 및 프레임
  3. 요청 응답 다중화
  4. 스트림 우선순위 지정
     1. 클라이언트가 '우선순위지정트리' 구성하고 통신할 수 있음
  5. 도메인 당 하나의 연결
  6. 흐름 제어
     1. 송신기의 데이터가 불필요하거나 처리가 불가능하여 수신기에 부담을 주는 것을 막을 수 있음(예: 수신기가 사용 중이거나, 과부하 상태이거나, 특정 스트림에 일정 크기의 리소스만 할당하려는 경우)
  7. 서버 푸쉬
     1. 서버가 단일 클라이언트 요청에 대해 여러 응답을 보낼 수 있음
  8. 헤더 압축
     1. 색인 사용
     2. 헤더 필드를 정적 Huffman 인코딩하도록 허용

### 참고

[HTTP/2 소개](https://developers.google.com/web/fundamentals/performance/http2/?hl=ko>)